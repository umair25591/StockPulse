{% extends "dashboard/layout.html" %}

{% block title %}Analytics{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/analytics.css') }}">
{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-900 text-white">
  <div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-2">Stock Market Cluster & Anomaly Analysis</h1>
    <p class="text-gray-400 mb-6">Upload a CSV file to visualize market behavior clusters and identify anomalies.</p>

    <div class="flex items-center space-x-4 mb-4">
        <input type="file" id="csv-file" accept=".csv" class="file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100"/>
        <button id="run-analysis" class="bg-green-600 hover:bg-green-700 px-5 py-2.5 rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed" disabled>
          Run Analysis
        </button>
    </div>
    
    <div class="mt-8 bg-gray-800 p-6 rounded-lg shadow-lg">
      <div id="summary-cards" class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 text-center">
        </div>
      <div class="w-full h-[500px]">
          <canvas id="stock-chart"></canvas>
      </div>
    </div>
    
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom/dist/chartjs-plugin-zoom.min.js"></script>
<script src="{{ url_for('static', filename='js/analytics.js') }}"></script>
{% endblock %}